\hypertarget{basicTemplate_8c}{}\subsection{basic\+Template.\+c File Reference}
\label{basicTemplate_8c}\index{basic\+Template.\+c@{basic\+Template.\+c}}


Basic template for using the Q\+U\+E\+ST library.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$omp.\+h$>$}\newline
{\ttfamily \#include \char`\"{}Q\+U\+E\+S\+T/qubits.\+h\char`\"{}}\newline
\subsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{basicTemplate_8c_a353abace49aefb52015b80290cf26d77}{Max\+Angles}~10
\begin{DoxyCompactList}\small\item\em Max number of angles used to define qubit rotation. \end{DoxyCompactList}\item 
\#define \hyperlink{basicTemplate_8c_a8e2ba5722f048e5a9cd58d09085f6cb1}{max\+Num\+Qubits}~40
\begin{DoxyCompactList}\small\item\em Max number of qubits in the system. \end{DoxyCompactList}\item 
\#define \hyperlink{basicTemplate_8c_a64394210bc1694536cbb8411d2bab5ed}{R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE}~1
\begin{DoxyCompactList}\small\item\em 1\+: print end qubit state to file, 0\+: don\textquotesingle{}t print \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{basicTemplate_8c_a0b1907e3d123f469a739aa425bd05574}{main} (int narg, char $\ast$$\ast$varg)
\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const long double \hyperlink{basicTemplate_8c_a00c9db5f4f80636d4da765f0893743f6}{Pi} = 3.\+14159265358979323846264338327950288419716939937510
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
Basic template for using the Q\+U\+E\+ST library. 

In general, leave the initialisation and cleanup sections as they are and edit the rotations, measurement and phase gate sections. 

\subsubsection{Macro Definition Documentation}
\mbox{\Hypertarget{basicTemplate_8c_a353abace49aefb52015b80290cf26d77}\label{basicTemplate_8c_a353abace49aefb52015b80290cf26d77}} 
\index{basic\+Template.\+c@{basic\+Template.\+c}!Max\+Angles@{Max\+Angles}}
\index{Max\+Angles@{Max\+Angles}!basic\+Template.\+c@{basic\+Template.\+c}}
\paragraph{\texorpdfstring{Max\+Angles}{MaxAngles}}
{\footnotesize\ttfamily \#define Max\+Angles~10}



Max number of angles used to define qubit rotation. 



Definition at line 18 of file basic\+Template.\+c.



Referenced by main().

\mbox{\Hypertarget{basicTemplate_8c_a8e2ba5722f048e5a9cd58d09085f6cb1}\label{basicTemplate_8c_a8e2ba5722f048e5a9cd58d09085f6cb1}} 
\index{basic\+Template.\+c@{basic\+Template.\+c}!max\+Num\+Qubits@{max\+Num\+Qubits}}
\index{max\+Num\+Qubits@{max\+Num\+Qubits}!basic\+Template.\+c@{basic\+Template.\+c}}
\paragraph{\texorpdfstring{max\+Num\+Qubits}{maxNumQubits}}
{\footnotesize\ttfamily \#define max\+Num\+Qubits~40}



Max number of qubits in the system. 



Definition at line 20 of file basic\+Template.\+c.



Referenced by main().

\mbox{\Hypertarget{basicTemplate_8c_a64394210bc1694536cbb8411d2bab5ed}\label{basicTemplate_8c_a64394210bc1694536cbb8411d2bab5ed}} 
\index{basic\+Template.\+c@{basic\+Template.\+c}!R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE@{R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE}}
\index{R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE@{R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE}!basic\+Template.\+c@{basic\+Template.\+c}}
\paragraph{\texorpdfstring{R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE}{REPORT\_STATE}}
{\footnotesize\ttfamily \#define R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE~1}



1\+: print end qubit state to file, 0\+: don\textquotesingle{}t print 



Definition at line 22 of file basic\+Template.\+c.



Referenced by main().



\subsubsection{Function Documentation}
\mbox{\Hypertarget{basicTemplate_8c_a0b1907e3d123f469a739aa425bd05574}\label{basicTemplate_8c_a0b1907e3d123f469a739aa425bd05574}} 
\index{basic\+Template.\+c@{basic\+Template.\+c}!main@{main}}
\index{main@{main}!basic\+Template.\+c@{basic\+Template.\+c}}
\paragraph{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{narg,  }\item[{char $\ast$$\ast$}]{varg }\end{DoxyParamCaption})}



Definition at line 30 of file basic\+Template.\+c.



References calc\+Total\+Probability(), close\+Q\+U\+E\+S\+T\+Env(), control\+Phase\+Gate(), create\+Multi\+Qubit(), destroy\+Multi\+Qubit(), find\+Probability\+Of\+Zero(), Complex\+::imag, init\+Q\+U\+E\+S\+T\+Env(), init\+State\+Vec(), Max\+Angles, max\+Num\+Qubits, measure\+In\+Zero(), quad\+C\+Phase\+Gate(), Q\+U\+E\+S\+T\+Env\+::rank, Complex\+::real, R\+E\+P\+O\+R\+T\+\_\+\+S\+T\+A\+TE, report\+Multi\+Qubit\+Params(), report\+Q\+U\+E\+S\+T\+Env(), report\+State(), and rotate\+Qubit().


\begin{DoxyCode}
30                                  \{
31 
32         \textcolor{comment}{//}
33         \textcolor{comment}{// ===== INITIALISATION}
34         \textcolor{comment}{//}
35         
36         \textcolor{comment}{// INIT ENVIRONMENT: ALWAYS REQUIRED ONCE AT BEGINNING OF PROGRAM}
37         \textcolor{comment}{// These two lines will automatically set up the environment (multinode,}
38         \textcolor{comment}{// openMP only etc)  }
39         \hyperlink{structQUESTEnv}{QUESTEnv} env;
40         \hyperlink{qubits_8h_a652d8c53f8f1cfb096133791de2b219d}{initQUESTEnv}(&env);
41 
42         \textcolor{comment}{// model vars}
43         \textcolor{keywordtype}{int} numQubits;
44         
45         \textcolor{comment}{// get number of qubits from command line argument}
46         \textcolor{keywordflow}{if} (narg >= 2) \{
47                 numQubits = atoi(varg[1]);
48                 \textcolor{keywordflow}{if} (numQubits < 1 || numQubits > \hyperlink{basicTemplate_8c_a8e2ba5722f048e5a9cd58d09085f6cb1}{maxNumQubits}) \{
49                         printf(\textcolor{stringliteral}{" *** error: argument %d out of range (1 -- %d)\(\backslash\)n"}, numQubits,maxNumQubits);
50                         exit (EXIT\_FAILURE);
51                 \}
52         \} \textcolor{keywordflow}{else} \{
53                 printf(\textcolor{stringliteral}{" *** error: too few arguments, number of qubits expected\(\backslash\)n"});
54                 exit (EXIT\_FAILURE);
55         \}
56 
57         \textcolor{comment}{// CREATE QUBIT OBJECT: REQUIRED ONCE PER MULTIQUBIT OBJECT     }
58         \textcolor{comment}{// Before doing any operations on a set of qubits, create the MultiQubit object that will be used
       to }
59         \textcolor{comment}{// represent the qubits}
60         \hyperlink{structMultiQubit}{MultiQubit} multiQubit; 
61         \hyperlink{qubits_8c_ae729f311efd2a426ce5161df3e017a16}{createMultiQubit}(&multiQubit, numQubits, env);
62         
63         \textcolor{comment}{// Reporting}
64         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) \{
65                 printf(\textcolor{stringliteral}{"Demo of single qubit rotations.\(\backslash\)n"});
66         \}
67         \hyperlink{qubits_8c_aa5e77e0e64f3a4a3d3f5cc7382bffcd9}{reportMultiQubitParams}(multiQubit);
68         \hyperlink{qubits_8h_aa5d0566a6ef6519ff7b5241915fbf170}{reportQUESTEnv}(env);
69 
70         \textcolor{comment}{// initialise the state to |0000..0>}
71         \hyperlink{qubits_8c_a492d10377278f685c7a1fabc3ee60623}{initStateVec} (&multiQubit);
72 
73 
74         \textcolor{comment}{//}
75         \textcolor{comment}{// ===== ROTATIONS}
76         \textcolor{comment}{//}
77 
78         \textcolor{comment}{// INITIALISE QUBIT ROTATION}
79         \textcolor{comment}{// Edit these lines to change rotation angle}
80         \textcolor{keywordtype}{double} ang1,ang2,ang3;
81         \hyperlink{structComplex}{Complex} alpha, beta;
82 
83         \textcolor{comment}{// define rotation angles}
84         \textcolor{keywordtype}{double} angles[\hyperlink{basicTemplate_8c_a353abace49aefb52015b80290cf26d77}{MaxAngles}][3] = \{
85                 \{ 1.2320,  0.4230, -0.6523\},
86                 \{ 2.1213,  0.0000,  3.6520\},
87                 \{-3.1213,  5.0230,  0.1230\},
88                 \{ 5.2341, -3.1001, -1.2340\},
89                 \{-0.1234, -0.9876,  4.1234\}
90         \};
91 
92         \textcolor{comment}{// rotate}
93         ang1 = angles[0][0];
94         ang2 = angles[0][1];
95         ang3 = angles[0][2];
96 
97         alpha.\hyperlink{structComplex_a0138f5fe2b2c6180b8fcda77a7aa51c5}{real} = cos(ang1) * cos(ang2);
98         alpha.\hyperlink{structComplex_a2bb90cc563599c3c8bdec9acf9ea40a6}{imag} = cos(ang1) * sin(ang2);
99         beta.\hyperlink{structComplex_a0138f5fe2b2c6180b8fcda77a7aa51c5}{real}  = sin(ang1) * cos(ang3);
100         beta.\hyperlink{structComplex_a2bb90cc563599c3c8bdec9acf9ea40a6}{imag}  = sin(ang1) * sin(ang3);
101 
102         \textcolor{keywordtype}{int} rotQubit;
103 
104         \textcolor{comment}{// DO QUBIT ROTATION}
105         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"\(\backslash\)nPerforming qubit rotation\(\backslash\)n"});
106         \textcolor{comment}{// Edit these lines to perform rotations as required}
107         \textcolor{keywordflow}{for} (rotQubit=0; rotQubit<numQubits; rotQubit++) \{
108                 \textcolor{comment}{// do rotation of each qubit}
109                 \hyperlink{qubits_8h_a4ba468aa69f812efd1f964e10a45ca2f}{rotateQubit}(multiQubit,rotQubit,alpha,beta);
110         \}
111         \textcolor{comment}{// END QUBIT ROTATION}
112 
113         \textcolor{comment}{// Verification: check vector size is unchanged}
114         \textcolor{keywordtype}{double} totalProbability;
115         totalProbability = \hyperlink{qubits_8h_a2205c8fde15213df52040dc3df233090}{calcTotalProbability}(multiQubit);
116         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"VERIFICATION: total probability=%.14f\(\backslash\)n"}, totalProbability);
117 
118         \textcolor{comment}{// report state vector to file}
119         \textcolor{keywordflow}{if} (\hyperlink{basicTemplate_8c_a64394210bc1694536cbb8411d2bab5ed}{REPORT\_STATE})\{
120                 \hyperlink{qubits_8c_a96f4de9ce7fefc7680a44d601fc3d894}{reportState}(multiQubit);
121         \}
122 
123         \textcolor{comment}{//}
124         \textcolor{comment}{// ===== perform a measurement}
125         \textcolor{comment}{//}
126         \textcolor{keywordtype}{int} measureQubit;
127         \textcolor{keywordtype}{double} qProbability;
128 
129         \textcolor{comment}{// Do measurement on rotated qubits}
130         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"\(\backslash\)nPerforming single qubit measurement\(\backslash\)n"});
131         \textcolor{keywordflow}{for} (measureQubit=0; measureQubit<numQubits; measureQubit++) \{
132                 qProbability = \hyperlink{qubits_8h_af31016680d01044cee9321d4cae32703}{findProbabilityOfZero}(multiQubit, measureQubit);
133                 \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"Probability of 0 for qubit %d = %.14f\(\backslash\)n"}, measureQubit, 
      qProbability);
134         \}
135         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"Measuring probability of qubit 0 to be in state 0 and then setting
       that qubit to 0\(\backslash\)n"});
136         qProbability = \hyperlink{qubits_8h_a766a8279a2d5c44fc7b98b412cea9858}{measureInZero}(multiQubit, 0);
137         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"Probability of 0 for qubit %d = %.14f\(\backslash\)n"}, 0, qProbability);
138 
139         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"Performing single qubit measurement\(\backslash\)n"});
140         \textcolor{comment}{// Do measurement on state |0000..0>}
141         \textcolor{keywordflow}{for} (measureQubit=0; measureQubit<numQubits; measureQubit++) \{
142                 qProbability = \hyperlink{qubits_8h_af31016680d01044cee9321d4cae32703}{findProbabilityOfZero}(multiQubit, measureQubit);
143                 \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"Probability of 0 for qubit %d = %.14f\(\backslash\)n"}, measureQubit, 
      qProbability);
144         \}
145         totalProbability = \hyperlink{qubits_8h_a2205c8fde15213df52040dc3df233090}{calcTotalProbability}(multiQubit);
146         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"VERIFICATION: total probability=%.14f\(\backslash\)n"}, totalProbability);
147 
148         \textcolor{comment}{//}
149         \textcolor{comment}{// ===== two qubit phase gate}
150         \textcolor{comment}{//}
151 
152         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"\(\backslash\)nPerforming 2 qubit phase gate\(\backslash\)n"});       
153         \hyperlink{qubits_8c_a0ad4584e44f567c140b653ed36d26ccf}{controlPhaseGate}(multiQubit, 0, 2);
154         totalProbability = \hyperlink{qubits_8h_a2205c8fde15213df52040dc3df233090}{calcTotalProbability}(multiQubit);
155         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"VERIFICATION: total probability=%.14f\(\backslash\)n"}, totalProbability);
156         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"Performing 4 qubit phase gate\(\backslash\)n"}); 
157         \hyperlink{qubits_8c_aca7765bd500718f98700a172351748cc}{quadCPhaseGate}(multiQubit, 0, 2, 3, 4);
158         totalProbability = \hyperlink{qubits_8h_a2205c8fde15213df52040dc3df233090}{calcTotalProbability}(multiQubit);
159         \textcolor{keywordflow}{if} (env.\hyperlink{structQUESTEnv_a1bdb6d425a2ce6a468f93929c0b26d73}{rank}==0) printf(\textcolor{stringliteral}{"VERIFICATION: total probability=%.14f\(\backslash\)n"}, totalProbability);
160         
161         \textcolor{comment}{//}
162         \textcolor{comment}{// ======== CLEANUP}
163         \textcolor{comment}{//}
164         
165         \textcolor{comment}{// free memory}
166 
167         \textcolor{comment}{// REQUIRED ONCE PER MULTIQUBIT OBJECT  }
168         \textcolor{comment}{// When all operations on a set of qubits are completed, destroy the object}
169         \hyperlink{qubits_8c_ab796aea79288b974f63474db650be878}{destroyMultiQubit}(multiQubit, env);
170 
171 
172         \textcolor{comment}{// ALWAYS REQUIRED ONCE AT END OF PROGRAM: }
173         \textcolor{comment}{// These two lines will perform any necessary cleanup of the environment (multinode,}
174         \textcolor{comment}{// openMP only etc)  }
175         \hyperlink{qubits_8h_ad7494473d827399d7fd9c327ea3a23e6}{closeQUESTEnv}(env);
176 
177         \textcolor{keywordflow}{return} EXIT\_SUCCESS;
178 \}
\end{DoxyCode}


\subsubsection{Variable Documentation}
\mbox{\Hypertarget{basicTemplate_8c_a00c9db5f4f80636d4da765f0893743f6}\label{basicTemplate_8c_a00c9db5f4f80636d4da765f0893743f6}} 
\index{basic\+Template.\+c@{basic\+Template.\+c}!Pi@{Pi}}
\index{Pi@{Pi}!basic\+Template.\+c@{basic\+Template.\+c}}
\paragraph{\texorpdfstring{Pi}{Pi}}
{\footnotesize\ttfamily const long double Pi = 3.\+14159265358979323846264338327950288419716939937510}



Definition at line 24 of file basic\+Template.\+c.

